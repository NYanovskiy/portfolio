{"ast":null,"code":"import React,{useState}from'react';import{format,isSameDay}from'date-fns';import{safeParse}from'../utils/dateUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskList=_ref=>{let{tasks,selectedDate,onToggleTask,onRemoveTask}=_ref;const[pulsingTasks,setPulsingTasks]=useState(new Set());const handleToggleTask=taskId=>{// Add pulse effect\nsetPulsingTasks(prev=>new Set([...prev,taskId]));// Remove pulse effect after animation\nsetTimeout(()=>{setPulsingTasks(prev=>{const newSet=new Set(prev);newSet.delete(taskId);return newSet;});},600);onToggleTask(taskId);};const tasksForDate=tasks.filter(t=>{const d=safeParse(t.datetime);return d?isSameDay(d,selectedDate):false;});const todayTasks=tasks.filter(t=>{const d=safeParse(t.datetime);return d?isSameDay(d,new Date()):false;});return/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12,marginTop:14},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:8},children:tasksForDate.map(task=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:10,borderRadius:12,border:'1px solid rgba(0,0,0,0.04)',minHeight:60},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center',flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"input\",{className:\"checkbox \".concat(pulsingTasks.has(task.id)?'pulse':''),type:\"checkbox\",checked:task.completed,onChange:()=>handleToggleTask(task.id)}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,textDecoration:task.completed?'line-through':'none',wordBreak:'break-word'},children:task.title}),/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:safeParse(task.datetime)?format(safeParse(task.datetime),'HH:mm'):'-'})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flexShrink:0,marginLeft:8},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-delete\",onClick:()=>onRemoveTask(task.id),title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"})})]},task.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0421\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:8},children:todayTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center',padding:10,borderRadius:12,border:'1px solid rgba(0,0,0,0.04)',minHeight:60},children:[/*#__PURE__*/_jsx(\"input\",{className:\"checkbox \".concat(pulsingTasks.has(task.id)?'pulse':''),type:\"checkbox\",checked:task.completed,onChange:()=>handleToggleTask(task.id)}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,textDecoration:task.completed?'line-through':'none',wordBreak:'break-word'},children:task.title}),/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:safeParse(task.datetime)?format(safeParse(task.datetime),'HH:mm'):'-'})]})]},task.id))})]})]});};export default TaskList;","map":{"version":3,"names":["React","useState","format","isSameDay","safeParse","jsx","_jsx","jsxs","_jsxs","TaskList","_ref","tasks","selectedDate","onToggleTask","onRemoveTask","pulsingTasks","setPulsingTasks","Set","handleToggleTask","taskId","prev","setTimeout","newSet","delete","tasksForDate","filter","t","d","datetime","todayTasks","Date","style","display","gridTemplateColumns","gap","marginTop","children","flexDirection","map","task","justifyContent","alignItems","padding","borderRadius","border","minHeight","flex","minWidth","className","concat","has","id","type","checked","completed","onChange","fontWeight","textDecoration","wordBreak","title","flexShrink","marginLeft","onClick"],"sources":["C:/Users/Никита/Desktop/GALL/p2/cur/src/components/TaskList.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { format, isSameDay } from 'date-fns';\nimport { safeParse } from '../utils/dateUtils';\n\nconst TaskList = ({ tasks, selectedDate, onToggleTask, onRemoveTask }) => {\n  const [pulsingTasks, setPulsingTasks] = useState(new Set());\n  \n  const handleToggleTask = (taskId) => {\n    // Add pulse effect\n    setPulsingTasks(prev => new Set([...prev, taskId]));\n    \n    // Remove pulse effect after animation\n    setTimeout(() => {\n      setPulsingTasks(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(taskId);\n        return newSet;\n      });\n    }, 600);\n    \n    onToggleTask(taskId);\n  };\n  const tasksForDate = tasks.filter(t => {\n    const d = safeParse(t.datetime);\n    return d ? isSameDay(d, selectedDate) : false;\n  });\n\n  const todayTasks = tasks.filter(t => {\n    const d = safeParse(t.datetime);\n    return d ? isSameDay(d, new Date()) : false;\n  });\n\n  return (\n    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 12, marginTop: 14 }}>\n      <div>\n        <h4>Задачи</h4>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n          {tasksForDate.map(task => (\n            <div\n              key={task.id}\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: 10,\n                borderRadius: 12,\n                border: '1px solid rgba(0,0,0,0.04)',\n                minHeight: 60\n              }}\n            >\n              <div style={{ display: 'flex', gap: 8, alignItems: 'center', flex: 1, minWidth: 0 }}>\n                <input\n                  className={`checkbox ${pulsingTasks.has(task.id) ? 'pulse' : ''}`}\n                  type=\"checkbox\"\n                  checked={task.completed}\n                  onChange={() => handleToggleTask(task.id)}\n                />\n                <div style={{ flex: 1, minWidth: 0 }}>\n                  <div style={{\n                    fontWeight: 700,\n                    textDecoration: task.completed ? 'line-through' : 'none',\n                    wordBreak: 'break-word'\n                  }}>\n                    {task.title}\n                  </div>\n                  <div className=\"muted\">\n                    {safeParse(task.datetime) ? format(safeParse(task.datetime), 'HH:mm') : '-'}\n                  </div>\n                </div>\n              </div>\n              <div style={{ flexShrink: 0, marginLeft: 8 }}>\n                <button\n                  className=\"btn btn-delete\"\n                  onClick={() => onRemoveTask(task.id)}\n                  title=\"Удалить задачу\"\n                >\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <h4>Сегодня</h4>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n          {todayTasks.map(task => (\n            <div\n              key={task.id}\n              style={{\n                display: 'flex',\n                gap: 8,\n                alignItems: 'center',\n                padding: 10,\n                borderRadius: 12,\n                border: '1px solid rgba(0,0,0,0.04)',\n                minHeight: 60\n              }}\n            >\n              <input\n                className={`checkbox ${pulsingTasks.has(task.id) ? 'pulse' : ''}`}\n                type=\"checkbox\"\n                checked={task.completed}\n                onChange={() => handleToggleTask(task.id)}\n              />\n              <div style={{ flex: 1, minWidth: 0 }}>\n                <div style={{\n                  fontWeight: 700,\n                  textDecoration: task.completed ? 'line-through' : 'none',\n                  wordBreak: 'break-word'\n                }}>\n                  {task.title}\n                </div>\n                <div className=\"muted\">\n                  {safeParse(task.datetime) ? format(safeParse(task.datetime), 'HH:mm') : '-'}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}