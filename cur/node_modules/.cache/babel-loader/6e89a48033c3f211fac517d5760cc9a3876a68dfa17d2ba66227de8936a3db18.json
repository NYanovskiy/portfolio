{"ast":null,"code":"import React,{useRef,useState}from'react';import{save,STORAGE}from'../utils/storage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=_ref=>{let{isOpen,onClose,theme,onThemeChange,onFillSample,onReset}=_ref;const fileRef=useRef(null);const[uploadStatus,setUploadStatus]=useState('');const[isUploading,setIsUploading]=useState(false);const handleFileUpload=e=>{const file=e.target.files&&e.target.files[0];if(!file)return;// Reset status\nsetUploadStatus('');setIsUploading(true);// Check file size (limit to 5MB for better performance)\nconst maxSize=5*1024*1024;// 5MB\nif(file.size>maxSize){setUploadStatus('–û—à–∏–±–∫–∞: —Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å–∏–º—É–º 5–ú–ë)');setIsUploading(false);return;}// Check file type\nconst allowedTypes=['image/jpeg','image/jpg','image/png','image/webp','image/gif'];if(!allowedTypes.includes(file.type)){setUploadStatus('–û—à–∏–±–∫–∞: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ JPEG, PNG, WebP, GIF');setIsUploading(false);return;}const reader=new FileReader();reader.onload=()=>{try{const result=reader.result;// Validate the data URL\nif(!result||typeof result!=='string'||!result.startsWith('data:image/')){throw new Error('Invalid image data');}// Try to save the background\nsave(STORAGE.BG,result);// Test if it was saved successfully\nconst saved=localStorage.getItem(STORAGE.BG);if(!saved){throw new Error('Failed to save to localStorage');}console.log('=== BACKGROUND UPLOAD DEBUG ===');console.log('Background saved successfully, length:',saved.length);console.log('Saved data starts with:',saved.substring(0,30));console.log('Storage key used:',STORAGE.BG);// Test retrieval\nconst testLoad=load(STORAGE.BG,null);console.log('Test load result:',{loaded:!!testLoad,length:testLoad?testLoad.length:0,matches:testLoad===saved});setUploadStatus('‚úÖ –§–æ–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');setIsUploading(false);// Immediately apply the background without waiting\nconsole.log('Applying background immediately');const root=document.documentElement;root.style.setProperty('--custom-bg',\"url(\\\"\".concat(result,\"\\\")\"));// Also set directly on body\ndocument.body.style.backgroundImage=\"url(\\\"\".concat(result,\"\\\")\");document.body.style.backgroundSize='cover';document.body.style.backgroundPosition='center';console.log('Background applied, checking CSS:');console.log('CSS var:',root.style.getPropertyValue('--custom-bg').substring(0,50)+'...');console.log('Body style:',document.body.style.backgroundImage.substring(0,50)+'...');}catch(error){console.error('Background upload error:',error);// Provide more specific error messages\nlet errorMessage='–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ–Ω';if(error.message.includes('quota')||error.message.includes('QuotaExceededError')){errorMessage='–û—à–∏–±–∫–∞: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –º–µ–Ω—å—à–∏–π —Ñ–∞–π–ª.';}else if(error.message.includes('Invalid image')){errorMessage='–û—à–∏–±–∫–∞: –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è';}setUploadStatus(errorMessage);setIsUploading(false);}};reader.onerror=()=>{setUploadStatus('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª');setIsUploading(false);};// Read file as data URL\nreader.readAsDataURL(file);// Clear the input\ne.target.value='';};const handleUploadClick=()=>{if(!isUploading&&fileRef.current){fileRef.current.click();}};const handleRemoveBackground=()=>{try{localStorage.removeItem(STORAGE.BG);// Immediately remove background\ndocument.documentElement.style.setProperty('--custom-bg','none');document.body.style.backgroundImage='';setUploadStatus('‚úÖ –§–æ–Ω —É–¥–∞–ª–µ–Ω!');onThemeChange(theme);setTimeout(()=>setUploadStatus(''),2000);}catch(error){setUploadStatus('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω');}};const debugBackground=()=>{console.log('=== BACKGROUND DEBUG ===');const bg=localStorage.getItem(STORAGE.BG);const loaded=load(STORAGE.BG,null);const cssVar=document.documentElement.style.getPropertyValue('--custom-bg');const bodyStyle=document.body.style.backgroundImage;console.log('LocalStorage raw:',{exists:!!bg,length:bg?bg.length:0,starts:bg?bg.substring(0,30):'none'});console.log('Load function result:',{exists:!!loaded,length:loaded?loaded.length:0,matches:loaded===bg});console.log('CSS status:',{cssVar:cssVar.substring(0,50)+'...',bodyStyle:bodyStyle.substring(0,50)+'...'});// Force reapply\nif(loaded){const root=document.documentElement;root.style.setProperty('--custom-bg',\"url(\\\"\".concat(loaded,\"\\\")\"));document.body.style.backgroundImage=\"url(\\\"\".concat(loaded,\"\\\")\");document.body.style.backgroundSize='cover';document.body.style.backgroundPosition='center';console.log('Background reapplied');}};const themes=[{id:'light',name:'–°–≤–µ—Ç–ª–∞—è',description:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞',color:'#ffffff',accent:'#ff9500'},{id:'dark',name:'–¢–µ–º–Ω–∞—è',description:'–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ macOS',color:'#1c1c1e',accent:'#ff9500'},{id:'glass',name:'–°—Ç–µ–∫–ª–æ',description:'–°—Ç–µ–∫–ª—è–Ω–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å',color:'#2c2c2e',accent:'#ff9500'},{id:'dark-glass',name:'–¢–µ–º–Ω–æ–µ —Å—Ç–µ–∫–ª–æ',description:'–ì–ª—É–±–æ–∫–∏–π –∫–æ—Å–º–æ—Å',color:'#000000',accent:'#ff9500'},{id:'midnight',name:'–ü–æ–ª–Ω–æ—á—å',description:'MacBook Pro Midnight',color:'#121212',accent:'#ff9500'},{id:'space-gray',name:'–°–µ—Ä—ã–π –∫–æ—Å–º–æ—Å',description:'MacBook Space Gray',color:'#2d2f33',accent:'#ff9500'},{id:'graphite',name:'–ì—Ä–∞—Ñ–∏—Ç',description:'–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—Ç',color:'#2c2c2e',accent:'#ff9500'},{id:'gold',name:'–ó–æ–ª–æ—Ç–æ–π',description:'–ó–æ–ª–æ—Ç–æ–π MacBook',color:'#7a6023',accent:'#ffd700'},{id:'silver',name:'–°–µ—Ä–µ–±—Ä–æ',description:'–°–µ—Ä–µ–±—Ä—è–Ω—ã–π MacBook',color:'#d0d0d0',accent:'#ff9500'},{id:'purple',name:'–ì–∞–ª–∞–∫—Ç–∏–∫–∞',description:'–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π',color:'#330066',accent:'#8a2be2'},{id:'pink',name:'–ó–∞–∫–∞—Ç',description:'–¢–µ–ø–ª—ã–π —Ä–æ–∑–æ–≤—ã–π',color:'#4a1a4a',accent:'#db7093'}];const currentTheme=themes.find(t=>t.id===theme)||themes[0];if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content settings-modal\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{border:'none',boxShadow:'none',padding:'24px',height:'100%',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:24},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'1.5rem'},children:\"\\u2699\\uFE0F \\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onClose,style:{width:'40px',height:'40px',borderRadius:'50%',padding:0,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'1.25rem'},children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:16},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"\\uD83C\\uDFA8 \\u0426\\u0432\\u0435\\u0442\\u043E\\u0432\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:500,fontSize:'0.95rem',marginTop:4},children:[currentTheme.name,\" - \",currentTheme.description]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(60px, 1fr))',gap:8,marginBottom:16},children:themes.map(themeOption=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onThemeChange(themeOption.id),style:{padding:'6px',border:theme===themeOption.id?\"2px solid \".concat(themeOption.accent):'1px solid var(--border)',borderRadius:'12px',background:'var(--surface)',cursor:'pointer',transition:'all 0.2s ease',display:'flex',flexDirection:'column',alignItems:'center',gap:5,minHeight:'65px',position:'relative',overflow:'hidden'},onMouseEnter:e=>{e.target.style.background='var(--surface-hover)';e.target.style.borderColor=themeOption.accent;},onMouseLeave:e=>{e.target.style.background='var(--surface)';e.target.style.borderColor=theme===themeOption.id?themeOption.accent:'var(--border)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',borderRadius:'50%',background:themeOption.id==='silver'?\"linear-gradient(135deg, \".concat(themeOption.color,\" 0%, #e8e8e8 100%)\"):\"linear-gradient(135deg, \".concat(themeOption.color,\" 0%, \").concat(themeOption.accent,\" 100%)\"),border:'1px solid rgba(255,255,255,0.2)',flexShrink:0}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.7rem',fontWeight:'500',color:'var(--text)',textAlign:'center',lineHeight:1.2},children:themeOption.name}),theme===themeOption.id&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'4px',right:'4px',width:'12px',height:'12px',borderRadius:'50%',background:themeOption.accent,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'8px',color:'#fff'},children:\"\\u2713\"})]},themeOption.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:'150px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"\\u0414\\u0435\\u043C\\u043E\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:\"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C \\u043F\\u0440\\u0438\\u043C\\u0435\\u0440\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:onFillSample,style:{minWidth:'100px'},children:\"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0440\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:'150px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onReset,style:{color:'crimson',minWidth:'100px'},children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:8},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,marginRight:12},children:[/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"\\uD83C\\uDF87 \\u0424\\u043E\\u043D\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500,fontSize:'0.875rem'},children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C JPEG/PNG\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'var(--muted)',marginTop:'2px'},children:\"\\u041C\\u0430\\u043A\\u0441 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0440: 5\\u041C\\u0411, \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u044B: JPEG, PNG, WebP, GIF\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:8,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-orange\",onClick:handleUploadClick,disabled:isUploading,style:{minWidth:'90px',fontSize:'0.85rem',flex:'1 1 auto'},children:isUploading?'–ó–∞–≥—Ä—É–∑–∫–∞...':'üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleRemoveBackground,disabled:isUploading,style:{color:'var(--red)',minWidth:'80px',fontSize:'0.85rem',flex:'1 1 auto'},children:\"\\uD83D\\uDDD1\\uFE0F \\u0423\\u0431\\u0440\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:debugBackground,disabled:isUploading,style:{color:'var(--accent)',minWidth:'70px',fontSize:'0.85rem',flex:'1 1 auto'},children:\"\\uD83D\\uDD0D \\u0422\\u0435\\u0441\\u0442\"})]}),uploadStatus&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px 12px',borderRadius:'8px',fontSize:'0.8rem',fontWeight:'500',backgroundColor:uploadStatus.includes('–û—à–∏–±–∫–∞')?'rgba(255, 59, 48, 0.1)':'rgba(52, 199, 89, 0.1)',color:uploadStatus.includes('–û—à–∏–±–∫–∞')?'var(--red)':'var(--green)',border:\"1px solid \".concat(uploadStatus.includes('–û—à–∏–±–∫–∞')?'rgba(255, 59, 48, 0.2)':'rgba(52, 199, 89, 0.2)')},children:uploadStatus}),/*#__PURE__*/_jsx(\"input\",{ref:fileRef,type:\"file\",accept:\"image/jpeg,image/jpg,image/png,image/webp,image/gif\",style:{display:'none'},onChange:handleFileUpload})]})]})]})})});};export default Settings;","map":{"version":3,"names":["React","useRef","useState","save","STORAGE","jsx","_jsx","jsxs","_jsxs","Settings","_ref","isOpen","onClose","theme","onThemeChange","onFillSample","onReset","fileRef","uploadStatus","setUploadStatus","isUploading","setIsUploading","handleFileUpload","e","file","target","files","maxSize","size","allowedTypes","includes","type","reader","FileReader","onload","result","startsWith","Error","BG","saved","localStorage","getItem","console","log","length","substring","testLoad","load","loaded","matches","root","document","documentElement","style","setProperty","concat","body","backgroundImage","backgroundSize","backgroundPosition","getPropertyValue","error","errorMessage","message","onerror","readAsDataURL","value","handleUploadClick","current","click","handleRemoveBackground","removeItem","setTimeout","debugBackground","bg","cssVar","bodyStyle","exists","starts","themes","id","name","description","color","accent","currentTheme","find","t","className","onClick","children","stopPropagation","border","boxShadow","padding","height","overflow","display","justifyContent","alignItems","marginBottom","margin","fontSize","width","borderRadius","flexDirection","gap","fontWeight","marginTop","gridTemplateColumns","map","themeOption","background","cursor","transition","minHeight","position","onMouseEnter","borderColor","onMouseLeave","flexShrink","textAlign","lineHeight","top","right","flexWrap","flex","minWidth","marginRight","disabled","backgroundColor","ref","accept","onChange"],"sources":["C:/Users/–ù–∏–∫–∏—Ç–∞/Desktop/GALL/p2/cur/src/components/Settings.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { save, STORAGE } from '../utils/storage';\n\nconst Settings = ({ isOpen, onClose, theme, onThemeChange, onFillSample, onReset }) => {\n  const fileRef = useRef(null);\n  const [uploadStatus, setUploadStatus] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n    \n    // Reset status\n    setUploadStatus('');\n    setIsUploading(true);\n    \n    // Check file size (limit to 5MB for better performance)\n    const maxSize = 5 * 1024 * 1024; // 5MB\n    if (file.size > maxSize) {\n      setUploadStatus('–û—à–∏–±–∫–∞: —Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å–∏–º—É–º 5–ú–ë)');\n      setIsUploading(false);\n      return;\n    }\n    \n    // Check file type\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];\n    if (!allowedTypes.includes(file.type)) {\n      setUploadStatus('–û—à–∏–±–∫–∞: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ JPEG, PNG, WebP, GIF');\n      setIsUploading(false);\n      return;\n    }\n    \n    const reader = new FileReader();\n    \n    reader.onload = () => {\n      try {\n        const result = reader.result;\n        \n        // Validate the data URL\n        if (!result || typeof result !== 'string' || !result.startsWith('data:image/')) {\n          throw new Error('Invalid image data');\n        }\n        \n        // Try to save the background\n        save(STORAGE.BG, result);\n        \n        // Test if it was saved successfully\n        const saved = localStorage.getItem(STORAGE.BG);\n        if (!saved) {\n          throw new Error('Failed to save to localStorage');\n        }\n        \n        console.log('=== BACKGROUND UPLOAD DEBUG ===');\n        console.log('Background saved successfully, length:', saved.length);\n        console.log('Saved data starts with:', saved.substring(0, 30));\n        console.log('Storage key used:', STORAGE.BG);\n        \n        // Test retrieval\n        const testLoad = load(STORAGE.BG, null);\n        console.log('Test load result:', {\n          loaded: !!testLoad,\n          length: testLoad ? testLoad.length : 0,\n          matches: testLoad === saved\n        });\n        \n        setUploadStatus('‚úÖ –§–æ–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');\n        setIsUploading(false);\n        \n        // Immediately apply the background without waiting\n        console.log('Applying background immediately');\n        const root = document.documentElement;\n        root.style.setProperty('--custom-bg', `url(\"${result}\")`);\n        \n        // Also set directly on body\n        document.body.style.backgroundImage = `url(\"${result}\")`;\n        document.body.style.backgroundSize = 'cover';\n        document.body.style.backgroundPosition = 'center';\n        \n        console.log('Background applied, checking CSS:');\n        console.log('CSS var:', root.style.getPropertyValue('--custom-bg').substring(0, 50) + '...');\n        console.log('Body style:', document.body.style.backgroundImage.substring(0, 50) + '...');\n        \n      } catch (error) {\n        console.error('Background upload error:', error);\n        \n        // Provide more specific error messages\n        let errorMessage = '–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ–Ω';\n        if (error.message.includes('quota') || error.message.includes('QuotaExceededError')) {\n          errorMessage = '–û—à–∏–±–∫–∞: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –º–µ–Ω—å—à–∏–π —Ñ–∞–π–ª.';\n        } else if (error.message.includes('Invalid image')) {\n          errorMessage = '–û—à–∏–±–∫–∞: –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è';\n        }\n        \n        setUploadStatus(errorMessage);\n        setIsUploading(false);\n      }\n    };\n    \n    reader.onerror = () => {\n      setUploadStatus('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª');\n      setIsUploading(false);\n    };\n    \n    // Read file as data URL\n    reader.readAsDataURL(file);\n    \n    // Clear the input\n    e.target.value = '';\n  };\n\n  const handleUploadClick = () => {\n    if (!isUploading && fileRef.current) {\n      fileRef.current.click();\n    }\n  };\n\n  const handleRemoveBackground = () => {\n    try {\n      localStorage.removeItem(STORAGE.BG);\n      // Immediately remove background\n      document.documentElement.style.setProperty('--custom-bg', 'none');\n      document.body.style.backgroundImage = '';\n      setUploadStatus('‚úÖ –§–æ–Ω —É–¥–∞–ª–µ–Ω!');\n      onThemeChange(theme);\n      setTimeout(() => setUploadStatus(''), 2000);\n    } catch (error) {\n      setUploadStatus('–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å —Ñ–æ–Ω');\n    }\n  };\n\n  const debugBackground = () => {\n    console.log('=== BACKGROUND DEBUG ===');\n    const bg = localStorage.getItem(STORAGE.BG);\n    const loaded = load(STORAGE.BG, null);\n    const cssVar = document.documentElement.style.getPropertyValue('--custom-bg');\n    const bodyStyle = document.body.style.backgroundImage;\n    \n    console.log('LocalStorage raw:', {\n      exists: !!bg,\n      length: bg ? bg.length : 0,\n      starts: bg ? bg.substring(0, 30) : 'none'\n    });\n    \n    console.log('Load function result:', {\n      exists: !!loaded,\n      length: loaded ? loaded.length : 0,\n      matches: loaded === bg\n    });\n    \n    console.log('CSS status:', {\n      cssVar: cssVar.substring(0, 50) + '...',\n      bodyStyle: bodyStyle.substring(0, 50) + '...'\n    });\n    \n    // Force reapply\n    if (loaded) {\n      const root = document.documentElement;\n      root.style.setProperty('--custom-bg', `url(\"${loaded}\")`);\n      document.body.style.backgroundImage = `url(\"${loaded}\")`;\n      document.body.style.backgroundSize = 'cover';\n      document.body.style.backgroundPosition = 'center';\n      console.log('Background reapplied');\n    }\n  };\n\n  const themes = [\n    { id: 'light', name: '–°–≤–µ—Ç–ª–∞—è', description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞', color: '#ffffff', accent: '#ff9500' },\n    { id: 'dark', name: '–¢–µ–º–Ω–∞—è', description: '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ macOS', color: '#1c1c1e', accent: '#ff9500' },\n    { id: 'glass', name: '–°—Ç–µ–∫–ª–æ', description: '–°—Ç–µ–∫–ª—è–Ω–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å', color: '#2c2c2e', accent: '#ff9500' },\n    { id: 'dark-glass', name: '–¢–µ–º–Ω–æ–µ —Å—Ç–µ–∫–ª–æ', description: '–ì–ª—É–±–æ–∫–∏–π –∫–æ—Å–º–æ—Å', color: '#000000', accent: '#ff9500' },\n    { id: 'midnight', name: '–ü–æ–ª–Ω–æ—á—å', description: 'MacBook Pro Midnight', color: '#121212', accent: '#ff9500' },\n    { id: 'space-gray', name: '–°–µ—Ä—ã–π –∫–æ—Å–º–æ—Å', description: 'MacBook Space Gray', color: '#2d2f33', accent: '#ff9500' },\n    { id: 'graphite', name: '–ì—Ä–∞—Ñ–∏—Ç', description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—Ç', color: '#2c2c2e', accent: '#ff9500' },\n    { id: 'gold', name: '–ó–æ–ª–æ—Ç–æ–π', description: '–ó–æ–ª–æ—Ç–æ–π MacBook', color: '#7a6023', accent: '#ffd700' },\n    { id: 'silver', name: '–°–µ—Ä–µ–±—Ä–æ', description: '–°–µ—Ä–µ–±—Ä—è–Ω—ã–π MacBook', color: '#d0d0d0', accent: '#ff9500' },\n    { id: 'purple', name: '–ì–∞–ª–∞–∫—Ç–∏–∫–∞', description: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π', color: '#330066', accent: '#8a2be2' },\n    { id: 'pink', name: '–ó–∞–∫–∞—Ç', description: '–¢–µ–ø–ª—ã–π —Ä–æ–∑–æ–≤—ã–π', color: '#4a1a4a', accent: '#db7093' }\n  ];\n\n  const currentTheme = themes.find(t => t.id === theme) || themes[0];\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content settings-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"card\" style={{ border: 'none', boxShadow: 'none', padding: '24px', height: '100%', overflow: 'auto' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 24 }}>\n            <h3 style={{ margin: 0, fontSize: '1.5rem' }}>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>\n            <button \n              className=\"btn\" \n              onClick={onClose}\n              style={{ \n                width: '40px', \n                height: '40px', \n                borderRadius: '50%',\n                padding: 0,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '1.25rem'\n              }}\n            >\n              ‚úï\n            </button>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>\n            {/* Color Theme Selection */}\n            <div>\n              <div style={{ marginBottom: 12 }}>\n                <div className=\"muted\">üé® –¶–≤–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞</div>\n                <div style={{ fontWeight: 500, fontSize: '0.95rem', marginTop: 4 }}>\n                  {currentTheme.name} - {currentTheme.description}\n                </div>\n              </div>\n              \n              <div style={{ \n                display: 'grid', \n                gridTemplateColumns: 'repeat(auto-fill, minmax(60px, 1fr))', \n                gap: 8,\n                marginBottom: 16\n              }}>\n                {themes.map((themeOption) => (\n                  <button\n                    key={themeOption.id}\n                    onClick={() => onThemeChange(themeOption.id)}\n                    style={{\n                      padding: '6px',\n                      border: theme === themeOption.id ? `2px solid ${themeOption.accent}` : '1px solid var(--border)',\n                      borderRadius: '12px',\n                      background: 'var(--surface)',\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      gap: 5,\n                      minHeight: '65px',\n                      position: 'relative',\n                      overflow: 'hidden'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.target.style.background = 'var(--surface-hover)';\n                      e.target.style.borderColor = themeOption.accent;\n                    }}\n                    onMouseLeave={(e) => {\n                      e.target.style.background = 'var(--surface)';\n                      e.target.style.borderColor = theme === themeOption.id ? themeOption.accent : 'var(--border)';\n                    }}\n                  >\n                    {/* Theme Color Preview */}\n                    <div style={{\n                      width: '24px',\n                      height: '24px',\n                      borderRadius: '50%',\n                      background: themeOption.id === 'silver' ? \n                        `linear-gradient(135deg, ${themeOption.color} 0%, #e8e8e8 100%)` : \n                        `linear-gradient(135deg, ${themeOption.color} 0%, ${themeOption.accent} 100%)`,\n                      border: '1px solid rgba(255,255,255,0.2)',\n                      flexShrink: 0\n                    }} />\n                    \n                    {/* Theme Name */}\n                    <div style={{\n                      fontSize: '0.7rem',\n                      fontWeight: '500',\n                      color: 'var(--text)',\n                      textAlign: 'center',\n                      lineHeight: 1.2\n                    }}>\n                      {themeOption.name}\n                    </div>\n                    \n                    {/* Selected Indicator */}\n                    {theme === themeOption.id && (\n                      <div style={{\n                        position: 'absolute',\n                        top: '4px',\n                        right: '4px',\n                        width: '12px',\n                        height: '12px',\n                        borderRadius: '50%',\n                        background: themeOption.accent,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        fontSize: '8px',\n                        color: '#fff'\n                      }}>\n                        ‚úì\n                      </div>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: 8 }}>\n                <div style={{ flex: 1, minWidth: '150px' }}>\n                  <div className=\"muted\">–î–µ–º–æ</div>\n                  <div style={{ fontWeight: 700 }}>–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä</div>\n                </div>\n                <button className=\"btn btn-primary\" onClick={onFillSample} style={{ minWidth: '100px' }}>\n                  –ü—Ä–∏–º–µ—Ä\n                </button>\n              </div>\n\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: 8 }}>\n                <div style={{ flex: 1, minWidth: '150px' }}>\n                  <div className=\"muted\">–î–∞–Ω–Ω—ã–µ</div>\n                  <div style={{ fontWeight: 700 }}>–°–±—Ä–æ—Å</div>\n                </div>\n                <button\n                  className=\"btn\"\n                  onClick={onReset}\n                  style={{ color: 'crimson', minWidth: '100px' }}\n                >\n                  –°–±—Ä–æ—Å\n                </button>\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                <div style={{ flex: 1, marginRight: 12 }}>\n                  <div className=\"muted\">üéá –§–æ–Ω</div>\n                  <div style={{ fontWeight: 500, fontSize: '0.875rem' }}>–ó–∞–≥—Ä—É–∑–∏—Ç—å JPEG/PNG</div>\n                  <div style={{ fontSize: '0.75rem', color: 'var(--muted)', marginTop: '2px' }}>\n                    –ú–∞–∫—Å —Ä–∞–∑–º–µ—Ä: 5–ú–ë, —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, WebP, GIF\n                  </div>\n                </div>\n              </div>\n              \n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8, justifyContent: 'flex-end' }}>\n                <button \n                  className=\"btn btn-orange\" \n                  onClick={handleUploadClick}\n                  disabled={isUploading}\n                  style={{ \n                    minWidth: '90px',\n                    fontSize: '0.85rem',\n                    flex: '1 1 auto'\n                  }}\n                >\n                  {isUploading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : 'üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å'}\n                </button>\n                <button \n                  className=\"btn\" \n                  onClick={handleRemoveBackground}\n                  disabled={isUploading}\n                  style={{ \n                    color: 'var(--red)',\n                    minWidth: '80px',\n                    fontSize: '0.85rem',\n                    flex: '1 1 auto'\n                  }}\n                >\n                  üóëÔ∏è –£–±—Ä–∞—Ç—å\n                </button>\n                <button \n                  className=\"btn\" \n                  onClick={debugBackground}\n                  disabled={isUploading}\n                  style={{ \n                    color: 'var(--accent)',\n                    minWidth: '70px',\n                    fontSize: '0.85rem',\n                    flex: '1 1 auto'\n                  }}\n                >\n                  üîç –¢–µ—Å—Ç\n                </button>\n              </div>\n              \n              {/* Upload status */}\n              {uploadStatus && (\n                <div style={{ \n                  padding: '8px 12px',\n                  borderRadius: '8px',\n                  fontSize: '0.8rem',\n                  fontWeight: '500',\n                  backgroundColor: uploadStatus.includes('–û—à–∏–±–∫–∞') \n                    ? 'rgba(255, 59, 48, 0.1)' \n                    : 'rgba(52, 199, 89, 0.1)',\n                  color: uploadStatus.includes('–û—à–∏–±–∫–∞') \n                    ? 'var(--red)' \n                    : 'var(--green)',\n                  border: `1px solid ${uploadStatus.includes('–û—à–∏–±–∫–∞') \n                    ? 'rgba(255, 59, 48, 0.2)' \n                    : 'rgba(52, 199, 89, 0.2)'}`\n                }}>\n                  {uploadStatus}\n                </div>\n              )}\n              \n              <input\n                ref={fileRef}\n                type=\"file\"\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                style={{ display: 'none' }}\n                onChange={handleFileUpload}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}