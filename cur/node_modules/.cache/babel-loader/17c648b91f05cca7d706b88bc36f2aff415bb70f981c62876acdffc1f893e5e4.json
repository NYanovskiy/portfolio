{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041D\\u0438\\u043A\\u0438\\u0442\\u0430\\\\Desktop\\\\cur\\\\src\\\\components\\\\CompactStats.jsx\";\nimport React from 'react';\nimport { format, startOfWeek, endOfWeek } from 'date-fns';\nimport { ru } from 'date-fns/locale';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompactStats = ({\n  tasks,\n  habits,\n  pomodoros\n}) => {\n  // Получаем данные за текущую неделю\n  const today = new Date();\n  const weekStart = startOfWeek(today, {\n    weekStartsOn: 1\n  }); // Неделя начинается с понедельника\n  const weekEnd = endOfWeek(today, {\n    weekStartsOn: 1\n  });\n\n  // Задачи за неделю\n  const weekTasks = tasks.filter(task => {\n    const taskDate = new Date(task.datetime);\n    return taskDate >= weekStart && taskDate <= weekEnd;\n  });\n  const completedWeekTasks = weekTasks.filter(task => task.completed).length;\n\n  // Привычки за неделю\n  const weekHabitCompletions = habits.reduce((total, habit) => {\n    const completedDates = habit.completedDates || [];\n    const weekCompletions = completedDates.filter(date => {\n      const habitDate = new Date(date);\n      return habitDate >= weekStart && habitDate <= weekEnd;\n    }).length;\n    return total + weekCompletions;\n  }, 0);\n\n  // Общий прогресс (процент выполненных задач)\n  const totalTasks = tasks.length;\n  const completedTasks = tasks.filter(task => task.completed).length;\n  const overallProgress = totalTasks > 0 ? Math.round(completedTasks / totalTasks * 100) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"compact-stats-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compact-stats-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compact-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-value\",\n          style: {\n            color: 'var(--accent)'\n          },\n          children: [completedWeekTasks, \"/\", weekTasks.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-label\",\n          children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u0437\\u0430 \\u043D\\u0435\\u0434\\u0435\\u043B\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compact-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-value\",\n          style: {\n            color: 'var(--green)'\n          },\n          children: weekHabitCompletions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-label\",\n          children: \"\\u041F\\u0440\\u0438\\u0432\\u044B\\u0447\\u043A\\u0438 \\u0437\\u0430 \\u043D\\u0435\\u0434\\u0435\\u043B\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compact-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-value\",\n          style: {\n            color: 'var(--yellow)'\n          },\n          children: [overallProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-stat-label\",\n          children: \"\\u041E\\u0431\\u0449\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0435\\u0441\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_c = CompactStats;\nexport default CompactStats;\nvar _c;\n$RefreshReg$(_c, \"CompactStats\");","map":{"version":3,"names":["React","format","startOfWeek","endOfWeek","ru","jsxDEV","_jsxDEV","CompactStats","tasks","habits","pomodoros","today","Date","weekStart","weekStartsOn","weekEnd","weekTasks","filter","task","taskDate","datetime","completedWeekTasks","completed","length","weekHabitCompletions","reduce","total","habit","completedDates","weekCompletions","date","habitDate","totalTasks","completedTasks","overallProgress","Math","round","className","children","style","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Никита/Desktop/cur/src/components/CompactStats.jsx"],"sourcesContent":["import React from 'react';\r\nimport { format, startOfWeek, endOfWeek } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\n\r\nconst CompactStats = ({ tasks, habits, pomodoros }) => {\r\n  // Получаем данные за текущую неделю\r\n  const today = new Date();\r\n  const weekStart = startOfWeek(today, { weekStartsOn: 1 }); // Неделя начинается с понедельника\r\n  const weekEnd = endOfWeek(today, { weekStartsOn: 1 });\r\n\r\n  // Задачи за неделю\r\n  const weekTasks = tasks.filter(task => {\r\n    const taskDate = new Date(task.datetime);\r\n    return taskDate >= weekStart && taskDate <= weekEnd;\r\n  });\r\n  const completedWeekTasks = weekTasks.filter(task => task.completed).length;\r\n\r\n  // Привычки за неделю\r\n  const weekHabitCompletions = habits.reduce((total, habit) => {\r\n    const completedDates = habit.completedDates || [];\r\n    const weekCompletions = completedDates.filter(date => {\r\n      const habitDate = new Date(date);\r\n      return habitDate >= weekStart && habitDate <= weekEnd;\r\n    }).length;\r\n    return total + weekCompletions;\r\n  }, 0);\r\n\r\n  // Общий прогресс (процент выполненных задач)\r\n  const totalTasks = tasks.length;\r\n  const completedTasks = tasks.filter(task => task.completed).length;\r\n  const overallProgress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;\r\n\r\n  return (\r\n    <div className=\"compact-stats-container\">\r\n      <div className=\"compact-stats-block\">\r\n        <div className=\"compact-stat-item\">\r\n          <div className=\"compact-stat-value\" style={{ color: 'var(--accent)' }}>\r\n            {completedWeekTasks}/{weekTasks.length}\r\n          </div>\r\n          <div className=\"compact-stat-label\">Задачи за неделю</div>\r\n        </div>\r\n        \r\n        <div className=\"compact-stat-item\">\r\n          <div className=\"compact-stat-value\" style={{ color: 'var(--green)' }}>\r\n            {weekHabitCompletions}\r\n          </div>\r\n          <div className=\"compact-stat-label\">Привычки за неделю</div>\r\n        </div>\r\n        \r\n        <div className=\"compact-stat-item\">\r\n          <div className=\"compact-stat-value\" style={{ color: 'var(--yellow)' }}>\r\n            {overallProgress}%\r\n          </div>\r\n          <div className=\"compact-stat-label\">Общий прогресс</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompactStats;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}